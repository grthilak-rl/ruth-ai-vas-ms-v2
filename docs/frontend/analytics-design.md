# Ruth AI â€” Analytics Page UX Design

| Meta             | Value                                           |
|------------------|-------------------------------------------------|
| Document ID      | RUTH-UX-ANALYTICS                               |
| Version          | 1.0                                             |
| Status           | Draft                                           |
| Owner            | Frontend UX Designer Agent                      |
| Input Documents  | F1â€“F6, API Contract, PRD                        |
| Purpose          | Complete Analytics section design with export   |

---

## 1. Document Purpose

This document defines the complete UX design for the **Analytics** section of Ruth AI (formerly "Reports"). It includes:

- Rename from "Reports" to "Analytics" throughout the application
- Complete Analytics Dashboard with visualizations
- Comprehensive export functionality (CSV, XLSX, PDF)
- All states: loading, empty, error, degraded, stale data
- API requirements for backend team
- Implementation checklist

---

## 2. Navigation Rename: Reports â†’ Analytics

### 2.1 Rationale

**Why "Analytics" instead of "Reports":**
- More accurately describes the function: interactive data exploration + exports
- "Reports" implies static documents; "Analytics" implies dynamic insights
- Aligns with modern SaaS conventions (Datadog, Grafana use "Analytics")
- Supervisor and Admin personas need actionable intelligence, not just reports

### 2.2 Navigation Changes

| Location | Old Label | New Label | Path | Impact |
|----------|-----------|-----------|------|--------|
| Primary Navigation | "Reports" | "Analytics" | `/analytics` | All users see updated label |
| Breadcrumbs | "Reports" | "Analytics" | â€” | Consistent naming |
| Sub-screens | "Reports Dashboard" | "Analytics Dashboard" | `/analytics` | â€” |
| Sub-screens | "Camera Performance" | "Camera Performance" | `/analytics/cameras` | No change |
| Sub-screens | "Export Reports" | "Export Data" | `/analytics/export` | Clarity improvement |

**Frontend Changes Required:**
- Update navigation labels in navigation components
- Update route paths from `/reports` to `/analytics`
- Update breadcrumb labels
- Update document titles and meta tags

---

## 3. User Personas & Goals

### 3.1 Primary Users

**Supervisor (Primary)**
- **Goal G2.4**: Understand shift activity â€” see summary of violations during a time period
- **Goal G2.6**: Export incident data for external stakeholders
- **Goal G2.7**: Compare camera activity â€” see which cameras have the most violations
- **Need**: Present data to management, safety team, or external auditors
- **Export Priority**: Formatted, management-friendly presentations (PDF, XLSX)

**Admin (Secondary)**
- **Goal G3.6**: View operational analytics â€” see violation counts, false positive rates, system performance trends
- **Need**: Monitor system health over time, identify patterns, tune AI settings
- **Export Priority**: Raw data for deeper analysis (CSV)

**Operator (No Access)**
- Per F1 and F2: Operators do NOT have access to Analytics section
- Analytics navigation item is hidden for Operator role

---

## 4. Screen Inventory

| Screen | Path | Personas | Purpose |
|--------|------|----------|---------|
| Analytics Dashboard | `/analytics` | Supervisor, Admin | Main analytics view with metrics and charts |
| Camera Performance | `/analytics/cameras` | Supervisor, Admin | Per-camera breakdown |
| Export Data | `/analytics/export` | Supervisor, Admin | Configure and download exports |

---

## 5. Analytics Dashboard Design

### 5.1 Layout Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ANALYTICS                                              [Last: 45s ago] âŸ³  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  TIME RANGE SELECTOR                                    [Export Data â†’]â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚
â”‚  â”‚  â”‚  Last 24h  â”‚  Last 7d   â”‚  Last 30d  â”‚  Custom    â”‚  [Apply]     â”‚â”‚  â”‚
â”‚  â”‚  â”‚   [â—]      â”‚    [ ]     â”‚    [ ]     â”‚  From: [  ]  To: [  ]     â”‚â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  TOTAL           â”‚  â”‚  OPEN            â”‚  â”‚  REVIEWED        â”‚  â”‚  ...  â”‚â”‚
â”‚  â”‚  VIOLATIONS      â”‚  â”‚  VIOLATIONS      â”‚  â”‚  VIOLATIONS      â”‚  â”‚      â”‚â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚      â”‚â”‚
â”‚  â”‚      47          â”‚  â”‚       12         â”‚  â”‚       18         â”‚  â”‚      â”‚â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚      â”‚â”‚
â”‚  â”‚  â†‘ 15% vs prev   â”‚  â”‚  â†‘ 3 vs prev     â”‚  â”‚  â†“ 2 vs prev     â”‚  â”‚      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  VIOLATIONS OVER TIME                                    [Hour â–¼]       â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚   10â”‚                                   â—                               â”‚â”‚
â”‚  â”‚     â”‚                                                                   â”‚â”‚
â”‚  â”‚    5â”‚              â—           â—                 â—                      â”‚â”‚
â”‚  â”‚     â”‚        â—           â—                             â—         â—      â”‚â”‚
â”‚  â”‚    0â”‚___â—_________________________________________________________      â”‚â”‚
â”‚  â”‚      00:00   04:00   08:00   12:00   16:00   20:00   00:00            â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚      â— Fall Detected    â—‹ PPE Missing    â–¡ Unauthorized Entry          â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  BY CAMERA (Top 5)                 â”‚  â”‚  BY STATUS                   â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                    â”‚  â”‚                              â”‚  â”‚
â”‚  â”‚  Lobby Camera         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  8    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚  â”‚
â”‚  â”‚  Loading Dock         â–ˆâ–ˆâ–ˆâ–ˆ   6    â”‚  â”‚  â”‚          â”‚  Open     26%  â”‚  â”‚
â”‚  â”‚  Gate A               â–ˆâ–ˆâ–ˆ    5    â”‚  â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆ    â”‚  Review   38%  â”‚  â”‚
â”‚  â”‚  Warehouse 2          â–ˆâ–ˆ     3    â”‚  â”‚  â”‚  â–ˆâ–ˆ      â”‚  Dismiss  21%  â”‚  â”‚
â”‚  â”‚  Main Entrance        â–ˆâ–ˆ     3    â”‚  â”‚  â”‚  â–ˆ       â”‚  Resolve  11%  â”‚  â”‚
â”‚  â”‚                                    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚  â”‚
â”‚  â”‚  [View All Cameras â†’]              â”‚  â”‚                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  BY VIOLATION TYPE                                                      â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚  Fall Detected        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  15    32%                       â”‚â”‚
â”‚  â”‚  PPE Missing          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  22    47%                  â”‚â”‚
â”‚  â”‚  Unauthorized Entry   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ        10    21%                       â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 Component Specifications

#### 5.2.1 Time Range Selector

**Purpose**: Allow users to filter all analytics by time range

**Options**:
- Last 24 hours (default)
- Last 7 days
- Last 30 days
- Custom (date picker)

**Behavior**:
- Selecting preset immediately updates all metrics and charts
- Custom requires "Apply" button
- Time range persists in URL query params (`?from=2026-01-10&to=2026-01-17`)
- Comparison metric ("â†‘ 15% vs prev") compares to previous period of equal length

**API Impact**:
- All analytics endpoints accept `from` and `to` parameters
- See Section 8 for API requirements

#### 5.2.2 Summary Cards

**Display Format** (per F6 Â§6.2):
- Large number (primary metric)
- Comparison to previous period (optional)
- Label

**Cards**:
1. **Total Violations**: Count of all violations in time range
2. **Open Violations**: Currently unresolved
3. **Reviewed Violations**: Acknowledged but not resolved
4. **Dismissed Violations**: Marked as false positive
5. **Resolved Violations**: Incident handled
6. **Active Cameras**: Cameras with AI enabled

**Comparison Indicator**:
- Green â†‘/â†“: Positive change (e.g., more violations resolved)
- Red â†‘/â†“: Negative change (e.g., more violations open)
- Gray =: No change

**Staleness** (per F6 Â§6.3):
- Show "Last: Xs ago" in top-right
- If > 5 minutes: Show warning banner "Data may be outdated [Refresh Now]"

#### 5.2.3 Violations Over Time Chart

**Chart Type**: Line chart with time on X-axis, count on Y-axis

**Data Points**:
- Time buckets based on granularity selector
- Multiple series: one per violation type
- Hover shows tooltip with exact count and timestamp

**Granularity Options**:
- Hour (default for 24h range)
- Day (default for 7d and 30d ranges)
- Custom (user-selectable)

**Interactions**:
- Click data point â†’ filters to that time bucket
- Click legend item â†’ toggle series visibility
- Hover â†’ tooltip with details

#### 5.2.4 By Camera Breakdown

**Display**: Horizontal bar chart

**Sorting**: Descending by violation count (top violators first)

**Show**: Top 5 cameras by default

**Link**: "View All Cameras â†’" navigates to `/analytics/cameras`

#### 5.2.5 By Status Pie Chart

**Display**: Pie chart with percentages

**Segments**:
- Open
- Reviewed
- Dismissed
- Resolved

**Interactions**:
- Click segment â†’ filters dashboard to that status
- Hover â†’ shows exact count

#### 5.2.6 By Violation Type Bar Chart

**Display**: Horizontal bar chart with counts and percentages

**Sorting**: Descending by count

**Shows**: All violation types

---

### 5.3 Default State (With Data)

See Section 5.1 layout structure above.

---

### 5.4 Loading State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ANALYTICS                                              Loading...          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  TIME RANGE SELECTOR                                                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚  â”‚
â”‚  â”‚  â”‚  Last 24h  â”‚  Last 7d   â”‚  Last 30d  â”‚  Custom    â”‚                â”‚  â”‚
â”‚  â”‚  â”‚   [â—]      â”‚    [ ]     â”‚    [ ]     â”‚            â”‚                â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚  â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚  â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚  â”‚  â–‘â–‘  â”‚â”‚
â”‚  â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚  â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚  â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚  â”‚  â–‘â–‘  â”‚â”‚
â”‚  â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚  â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚  â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â”‚  â”‚  â–‘â–‘  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚â”‚
â”‚  â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚â”‚
â”‚  â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Behavior**:
- Skeleton loaders for each card and chart
- Time range selector remains interactive
- No data shown until load completes
- Loading state shows immediately on navigation

---

### 5.5 Empty State (No Violations in Range)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ANALYTICS                                              Last: 10s ago  âŸ³    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  TIME RANGE SELECTOR                                    [Export Data â†’]â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚  â”‚
â”‚  â”‚  â”‚  Last 24h  â”‚  Last 7d   â”‚  Last 30d  â”‚  Custom    â”‚                â”‚  â”‚
â”‚  â”‚  â”‚    [ ]     â”‚   [â—]      â”‚    [ ]     â”‚            â”‚                â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  TOTAL           â”‚  â”‚  OPEN            â”‚  â”‚  REVIEWED        â”‚  â”‚  ... â”‚â”‚
â”‚  â”‚  VIOLATIONS      â”‚  â”‚  VIOLATIONS      â”‚  â”‚  VIOLATIONS      â”‚  â”‚      â”‚â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚      â”‚â”‚
â”‚  â”‚       0          â”‚  â”‚        0         â”‚  â”‚        0         â”‚  â”‚      â”‚â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚â”‚
â”‚  â”‚              â”‚                                      â”‚                   â”‚â”‚
â”‚  â”‚              â”‚  No violations in the last 7 days    â”‚                   â”‚â”‚
â”‚  â”‚              â”‚                                      â”‚                   â”‚â”‚
â”‚  â”‚              â”‚  Try a different time range or check â”‚                   â”‚â”‚
â”‚  â”‚              â”‚  the Violations page with a wider    â”‚                   â”‚â”‚
â”‚  â”‚              â”‚  date filter.                        â”‚                   â”‚â”‚
â”‚  â”‚              â”‚  [View Violations â†’]                 â”‚                   â”‚â”‚
â”‚  â”‚              â”‚                                      â”‚                   â”‚â”‚
â”‚  â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Behavior**:
- Summary cards show "0"
- Charts hidden, replaced with empty state message
- Suggest alternative actions: change time range or view history
- This is NOT an error; system is working correctly

---

### 5.6 Error State (API Failure)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ANALYTICS                                              âš  Error             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚â”‚
â”‚  â”‚     â”‚                                                                â”‚  â”‚â”‚
â”‚  â”‚     â”‚   âš   Unable to load analytics data                            â”‚  â”‚â”‚
â”‚  â”‚     â”‚                                                                â”‚  â”‚â”‚
â”‚  â”‚     â”‚   Could not retrieve analytics summary.                       â”‚  â”‚â”‚
â”‚  â”‚     â”‚   This may be a temporary issue.                              â”‚  â”‚â”‚
â”‚  â”‚     â”‚                                                                â”‚  â”‚â”‚
â”‚  â”‚     â”‚              [ Retry ]                                         â”‚  â”‚â”‚
â”‚  â”‚     â”‚                                                                â”‚  â”‚â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Behavior**:
- Single retry button
- No technical details exposed
- Time range selector remains visible but inactive
- User can navigate away or retry

---

### 5.7 Degraded State (Stale Data)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ANALYTICS                                              âš  Last: 7m ago      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  âš  Data may be outdated. Unable to refresh automatically.  [Retry Now] â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  TIME RANGE SELECTOR                                    [Export Data â†’]â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚  â”‚
â”‚  â”‚  â”‚  Last 24h  â”‚  Last 7d   â”‚  Last 30d  â”‚  Custom    â”‚                â”‚  â”‚
â”‚  â”‚  â”‚   [â—]      â”‚    [ ]     â”‚    [ ]     â”‚            â”‚                â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â”‚  (Shows last known data with visual indicator of staleness)                 â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Staleness Rules** (per F6 Â§6.3):

| `generated_at` Age | Display Behavior |
|--------------------|------------------|
| < 60 seconds | Normal, no warning |
| 60â€“300 seconds | Show "Last: Xm ago" (yellow indicator) |
| > 300 seconds | Show warning banner + "Last: Xm ago" (red indicator) |

**Behavior**:
- Display stale data rather than nothing
- Clear visual indicator of staleness
- Manual refresh button always available
- Data remains interactive despite staleness

---

## 6. Camera Performance Screen

### 6.1 Purpose

Detailed breakdown of violations per camera with filtering and sorting.

### 6.2 Default State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Back to Analytics                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  CAMERA PERFORMANCE                                      Last: 30s ago  âŸ³   â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                        â”‚
â”‚                                                                             â”‚
â”‚  Time Range: Last 24 hours                    Sort by: [Total Violations â–¼]â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Camera Name       â”‚ Total â”‚ Open â”‚ Reviewed â”‚ Dismissed â”‚ Resolved â”‚ % â”‚ â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ Lobby Camera      â”‚   8   â”‚  2   â”‚    3     â”‚     2     â”‚    1     â”‚17%â”‚ â”‚â”‚
â”‚  â”‚ Loading Dock      â”‚   6   â”‚  1   â”‚    2     â”‚     2     â”‚    1     â”‚13%â”‚ â”‚â”‚
â”‚  â”‚ Gate A            â”‚   5   â”‚  2   â”‚    1     â”‚     1     â”‚    1     â”‚11%â”‚ â”‚â”‚
â”‚  â”‚ Warehouse 2       â”‚   3   â”‚  0   â”‚    1     â”‚     2     â”‚    0     â”‚ 6%â”‚ â”‚â”‚
â”‚  â”‚ Main Entrance     â”‚   3   â”‚  1   â”‚    1     â”‚     0     â”‚    1     â”‚ 6%â”‚ â”‚â”‚
â”‚  â”‚ Back Entrance     â”‚   2   â”‚  0   â”‚    1     â”‚     1     â”‚    0     â”‚ 4%â”‚ â”‚â”‚
â”‚  â”‚ Parking Lot       â”‚   0   â”‚  0   â”‚    0     â”‚     0     â”‚    0     â”‚ 0%â”‚ â”‚â”‚
â”‚  â”‚ Conference Room   â”‚   0   â”‚  0   â”‚    0     â”‚     0     â”‚    0     â”‚ 0%â”‚ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚  Showing 8 of 8 cameras                                                     â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  LOBBY CAMERA - DETAIL                                    [â–¼ Collapse]  â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚  â”‚  VIOLATIONS BY TYPE           â”‚  â”‚  VIOLATIONS OVER TIME (24h)     â”‚â”‚â”‚
â”‚  â”‚  â”‚                               â”‚  â”‚                                 â”‚â”‚â”‚
â”‚  â”‚  â”‚  Fall Detected        5  62%  â”‚  â”‚   3â”‚          â—                 â”‚â”‚â”‚
â”‚  â”‚  â”‚  PPE Missing          2  25%  â”‚  â”‚    â”‚    â—                       â”‚â”‚â”‚
â”‚  â”‚  â”‚  Unauthorized Entry   1  13%  â”‚  â”‚   0â”‚â—_____â—___________â—_______  â”‚â”‚â”‚
â”‚  â”‚  â”‚                               â”‚  â”‚     00:00  08:00  16:00  00:00  â”‚â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚  â”‚  RECENT VIOLATIONS FROM THIS CAMERA             [View All Violations]â”‚â”‚â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚â”‚
â”‚  â”‚  â”‚  â— Fall Detected         High        14:32    Reviewed    [View â†’] â”‚â”‚â”‚
â”‚  â”‚  â”‚  â— PPE Missing           Medium      12:15    Open        [View â†’] â”‚â”‚â”‚
â”‚  â”‚  â”‚  â— Fall Detected         Low         09:45    Dismissed   [View â†’] â”‚â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.3 Features

**Table**:
- Sortable by any column
- Click camera row to expand/collapse details
- % column shows percentage of total violations

**Per-Camera Detail**:
- Expandable section below each row
- Shows violations by type (pie chart)
- Shows violations over time (mini line chart)
- Shows recent violations list with links to Violations page

**Sorting Options**:
- Total Violations (descending) - default
- Total Violations (ascending)
- Open Violations (descending)
- Camera Name (A-Z)

---

## 7. Export Data Flow

### 7.1 Export Entry Points

| Location | Button | Result |
|----------|--------|--------|
| Analytics Dashboard | "Export Data â†’" (top-right) | Navigate to `/analytics/export` |
| Camera Performance | "Export Data â†’" (top-right) | Navigate to `/analytics/export` with camera filter pre-applied |

### 7.2 Export Configuration Screen

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Back to Analytics                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  EXPORT DATA                                                                â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•                                                                â”‚
â”‚                                                                             â”‚
â”‚  Configure your export settings and download analytics data.                â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  1. SELECT FORMAT                                                       â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚â”‚
â”‚  â”‚  â”‚      CSV         â”‚  â”‚      XLSX        â”‚  â”‚       PDF        â”‚      â”‚â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚      â”‚â”‚
â”‚  â”‚  â”‚  â”‚     ğŸ“„     â”‚  â”‚  â”‚  â”‚     ğŸ“Š     â”‚  â”‚  â”‚  â”‚     ğŸ“‹     â”‚  â”‚      â”‚â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚      â”‚â”‚
â”‚  â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚      â”‚â”‚
â”‚  â”‚  â”‚  Raw data for    â”‚  â”‚  Formatted Excel â”‚  â”‚  Presentation-   â”‚      â”‚â”‚
â”‚  â”‚  â”‚  analysis        â”‚  â”‚  with charts     â”‚  â”‚  ready report    â”‚      â”‚â”‚
â”‚  â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚      â”‚â”‚
â”‚  â”‚  â”‚  [â—] Select      â”‚  â”‚  [ ] Select      â”‚  â”‚  [ ] Select      â”‚      â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  2. SELECT TIME RANGE                                                   â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚â”‚
â”‚  â”‚  â”‚  Last 24h  â”‚  Last 7d   â”‚  Last 30d  â”‚  Custom                    â”‚  â”‚â”‚
â”‚  â”‚  â”‚   [â—]      â”‚    [ ]     â”‚    [ ]     â”‚  From: [  ]  To: [  ]      â”‚  â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  3. SELECT DATA SCOPE                                                   â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚  â”‚  [â—] All violations                                                 â”‚â”‚â”‚
â”‚  â”‚  â”‚  [ ] Specific cameras:  [Select Cameras â–¼]                          â”‚â”‚â”‚
â”‚  â”‚  â”‚  [ ] Specific violation types:  [Select Types â–¼]                    â”‚â”‚â”‚
â”‚  â”‚  â”‚  [ ] Specific status:  [Select Status â–¼]                            â”‚â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  4. SELECT CONTENT (Format-Specific Options)                            â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚  CSV Options:                                                           â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚  â”‚  [â—] Include headers                                                â”‚â”‚â”‚
â”‚  â”‚  â”‚  [â—] Include timestamps (ISO 8601)                                  â”‚â”‚â”‚
â”‚  â”‚  â”‚  [ ] Include raw confidence scores (instead of High/Medium/Low)     â”‚â”‚â”‚
â”‚  â”‚  â”‚  [ ] Include evidence URLs                                          â”‚â”‚â”‚
â”‚  â”‚  â”‚  [ ] Include bounding box coordinates                               â”‚â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚  (XLSX and PDF show different options when selected)                    â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  PREVIEW                                                                â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚  Estimated export size: ~2,500 violations (~150 KB)                     â”‚â”‚
â”‚  â”‚  Time range: 2026-01-15 00:00 to 2026-01-16 00:00                       â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â”‚                                [Cancel]    [Generate Export]                â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.3 Export Format Specifications

#### 7.3.1 CSV (Raw Data)

**Purpose**: Raw data for analysis in Excel, Python, R, etc.

**Default Columns**:
```csv
id,type,camera_name,status,confidence_category,timestamp,reviewed_by,reviewed_at,created_at
550e8400...,fall_detected,Lobby Camera,reviewed,High,2026-01-15T10:30:00.000Z,operator@example.com,2026-01-15T11:00:00.000Z,2026-01-15T10:30:00.123Z
```

**Optional Columns**:
- `confidence_raw`: Numeric confidence (0.0-1.0)
- `snapshot_url`: Direct link to evidence
- `bookmark_url`: Direct link to video
- `bounding_boxes`: JSON string of bounding box coordinates
- `model_id`: AI model identifier
- `model_version`: Model version

**Encoding**: UTF-8
**Line Endings**: LF (Unix)
**Delimiter**: Comma

#### 7.3.2 XLSX (Formatted Excel)

**Purpose**: Formatted spreadsheet with charts and summaries for management review

**Sheets**:
1. **Summary**: KPI cards, time range, generation timestamp
2. **Violations List**: Formatted table with:
   - Freeze panes (headers always visible)
   - Alternating row colors
   - Conditional formatting (High confidence = red background)
   - Hyperlinks to evidence (if available)
3. **By Camera**: Pivot table + bar chart
4. **By Type**: Pivot table + pie chart
5. **Over Time**: Time series data + line chart

**Formatting**:
- Company branding (if configured)
- Professional styling
- Print-ready (A4 landscape)

#### 7.3.3 PDF (Presentation Report)

**Purpose**: Management-friendly, presentation-ready report

**Sections**:
1. **Cover Page**
   - Report title: "Ruth AI Analytics Report"
   - Time range
   - Generated date
   - Company logo (if configured)

2. **Executive Summary** (1 page)
   - Total violations
   - Top 3 cameras
   - Top violation type
   - Trend summary ("â†‘ 15% vs previous period")

3. **Violations Over Time** (1 page)
   - Line chart (full page)
   - Key insights (auto-generated)

4. **Breakdown by Camera** (1-2 pages)
   - Bar chart
   - Table with top 10 cameras

5. **Breakdown by Type** (1 page)
   - Pie chart
   - Table with counts and percentages

6. **Detailed Violations List** (variable pages)
   - Paginated table
   - Headers on every page
   - Snapshot thumbnails (if available)

**Formatting**:
- A4 portrait
- Professional typography
- Page numbers
- Table of contents

---

### 7.4 Export Generation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EXPORT DATA                                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚â”‚
â”‚  â”‚              â”‚                                   â”‚                      â”‚â”‚
â”‚  â”‚              â”‚  Generating your export...        â”‚                      â”‚â”‚
â”‚  â”‚              â”‚                                   â”‚                      â”‚â”‚
â”‚  â”‚              â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  62%      â”‚                      â”‚â”‚
â”‚  â”‚              â”‚                                   â”‚                      â”‚â”‚
â”‚  â”‚              â”‚  This may take a few moments.     â”‚                      â”‚â”‚
â”‚  â”‚              â”‚                                   â”‚                      â”‚â”‚
â”‚  â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Behavior**:
- User clicks "Generate Export"
- POST request to `/api/v1/analytics/export` with configuration
- Progress bar shows generation status (if backend supports progress updates)
- Once complete, file downloads automatically
- Success message: "Export complete! Your download should begin shortly."

### 7.5 Export Success

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EXPORT DATA                                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚â”‚
â”‚  â”‚              â”‚                                   â”‚                      â”‚â”‚
â”‚  â”‚              â”‚  âœ“ Export Complete                â”‚                      â”‚â”‚
â”‚  â”‚              â”‚                                   â”‚                      â”‚â”‚
â”‚  â”‚              â”‚  Your download should begin       â”‚                      â”‚â”‚
â”‚  â”‚              â”‚  shortly.                         â”‚                      â”‚â”‚
â”‚  â”‚              â”‚                                   â”‚                      â”‚â”‚
â”‚  â”‚              â”‚  File: ruth-ai-analytics-2026...  â”‚                      â”‚â”‚
â”‚  â”‚              â”‚  Size: 152 KB                     â”‚                      â”‚â”‚
â”‚  â”‚              â”‚                                   â”‚                      â”‚â”‚
â”‚  â”‚              â”‚  [Download Again] [New Export]    â”‚                      â”‚â”‚
â”‚  â”‚              â”‚                                   â”‚                      â”‚â”‚
â”‚  â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.6 Export Error

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EXPORT DATA                                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚â”‚
â”‚  â”‚     â”‚                                                                â”‚  â”‚â”‚
â”‚  â”‚     â”‚   âš   Export failed                                            â”‚  â”‚â”‚
â”‚  â”‚     â”‚                                                                â”‚  â”‚â”‚
â”‚  â”‚     â”‚   Could not generate export. Please try again.                â”‚  â”‚â”‚
â”‚  â”‚     â”‚                                                                â”‚  â”‚â”‚
â”‚  â”‚     â”‚   If this problem persists, try reducing the                  â”‚  â”‚â”‚
â”‚  â”‚     â”‚   time range or filtering to fewer cameras.                   â”‚  â”‚â”‚
â”‚  â”‚     â”‚                                                                â”‚  â”‚â”‚
â”‚  â”‚     â”‚              [ Retry ]  [Go Back]                              â”‚  â”‚â”‚
â”‚  â”‚     â”‚                                                                â”‚  â”‚â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚â”‚
â”‚  â”‚                                                                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. API Requirements for Backend

The Analytics section requires the following API endpoints. Some are already defined in the API Contract Specification; others are new.

### 8.1 Existing Endpoints (Need Enhancement)

#### GET /api/v1/analytics/summary

**Status**: Partially implemented (returns basic counts)

**Current Response**:
```json
{
  "totals": {
    "violations_total": 47,
    "violations_open": 12,
    "violations_reviewed": 18,
    "violations_dismissed": 10,
    "violations_resolved": 5,
    "cameras_active": 8
  },
  "generated_at": "2026-01-16T10:00:00.000Z"
}
```

**Required Enhancements**:
- Add `from` and `to` query parameters
- Add `by_camera` breakdown
- Add `by_type` breakdown
- Add `time_series` data
- Support `granularity` parameter (hour, day)
- Add `comparison` to previous period

**Enhanced Response**:
```json
{
  "time_range": {
    "from": "2026-01-15T00:00:00.000Z",
    "to": "2026-01-16T00:00:00.000Z"
  },
  "totals": {
    "violations_total": 47,
    "violations_open": 12,
    "violations_reviewed": 18,
    "violations_dismissed": 10,
    "violations_resolved": 7,
    "cameras_active": 8,
    "cameras_total": 10
  },
  "comparison": {
    "violations_total_change": 15,
    "violations_total_change_percent": 15.2
  },
  "by_camera": [
    {
      "camera_id": "660e8400...",
      "camera_name": "Lobby Camera",
      "violations_total": 8,
      "violations_open": 2,
      "violations_reviewed": 3,
      "violations_dismissed": 2,
      "violations_resolved": 1
    }
  ],
  "by_type": [
    {
      "type": "fall_detected",
      "type_display": "Fall Detected",
      "count": 15,
      "percentage": 32
    }
  ],
  "by_status": [
    {
      "status": "open",
      "count": 12,
      "percentage": 26
    }
  ],
  "time_series": [
    {
      "bucket": "2026-01-15T00:00:00.000Z",
      "total": 3,
      "by_type": {
        "fall_detected": 2,
        "ppe_missing": 1
      }
    }
  ],
  "generated_at": "2026-01-16T10:00:00.000Z"
}
```

---

### 8.2 New Endpoints Required

#### POST /api/v1/analytics/export

**Description**: Generate and download analytics export in specified format

**Authentication**: Required

**Request Body**:
```json
{
  "format": "csv",
  "time_range": {
    "from": "2026-01-15T00:00:00.000Z",
    "to": "2026-01-16T00:00:00.000Z"
  },
  "scope": {
    "all": true,
    "camera_ids": [],
    "violation_types": [],
    "statuses": []
  },
  "options": {
    "include_headers": true,
    "include_timestamps": true,
    "include_raw_confidence": false,
    "include_evidence_urls": false,
    "include_bounding_boxes": false
  }
}
```

**Response (200 OK)**:
- Content-Type: `text/csv` or `application/vnd.openxmlformats-officedocument.spreadsheetml.sheet` or `application/pdf`
- Content-Disposition: `attachment; filename="ruth-ai-analytics-2026-01-16.csv"`
- Body: Binary file data

**Response (400 Bad Request)**:
```json
{
  "error": "INVALID_EXPORT_CONFIG",
  "error_description": "Time range exceeds maximum allowed (90 days)",
  "status_code": 400
}
```

**Response (503 Service Unavailable)**:
```json
{
  "error": "EXPORT_GENERATION_FAILED",
  "error_description": "Could not generate export. Please try again.",
  "status_code": 503
}
```

---

#### GET /api/v1/analytics/violations/trends

**Description**: Get violation trends over time with granularity control

**Status**: Currently returns 501 (not implemented)

**Query Parameters**:

| Parameter | Type | Required | Default | Description |
|-----------|------|----------|---------|-------------|
| `from` | ISO 8601 | No | 24h ago | Start of time range |
| `to` | ISO 8601 | No | now | End of time range |
| `granularity` | string | No | `hour` | `minute`, `hour`, `day` |
| `camera_id` | UUID | No | - | Filter to specific camera |
| `violation_type` | string | No | - | Filter to specific type |

**Response (200 OK)**:
```json
{
  "time_range": {
    "from": "2026-01-15T00:00:00.000Z",
    "to": "2026-01-16T00:00:00.000Z"
  },
  "granularity": "hour",
  "data": [
    {
      "bucket": "2026-01-15T00:00:00.000Z",
      "total": 3,
      "by_type": {
        "fall_detected": 2,
        "ppe_missing": 1
      },
      "by_status": {
        "open": 2,
        "reviewed": 1
      }
    }
  ],
  "generated_at": "2026-01-16T10:00:00.000Z"
}
```

---

#### GET /api/v1/analytics/devices/status

**Description**: Get analytics summary for all devices

**Status**: Currently returns 501 (not implemented)

**Query Parameters**:

| Parameter | Type | Required | Default | Description |
|-----------|------|----------|---------|-------------|
| `from` | ISO 8601 | No | 24h ago | Start of time range |
| `to` | ISO 8601 | No | now | End of time range |

**Response (200 OK)**:
```json
{
  "time_range": {
    "from": "2026-01-15T00:00:00.000Z",
    "to": "2026-01-16T00:00:00.000Z"
  },
  "devices": [
    {
      "camera_id": "660e8400...",
      "camera_name": "Lobby Camera",
      "violations_total": 8,
      "violations_by_status": {
        "open": 2,
        "reviewed": 3,
        "dismissed": 2,
        "resolved": 1
      },
      "violations_by_type": {
        "fall_detected": 5,
        "ppe_missing": 2,
        "unauthorized_entry": 1
      },
      "avg_confidence": 0.87,
      "last_violation_at": "2026-01-15T14:32:00.000Z"
    }
  ],
  "summary": {
    "total_violations": 47,
    "total_cameras": 10,
    "active_cameras": 8
  },
  "generated_at": "2026-01-16T10:00:00.000Z"
}
```

---

## 9. Data Contracts & Frontend Validation

### 9.1 Staleness Validation (F6 Â§6.3)

**Frontend MUST**:
- Check `generated_at` timestamp on every analytics response
- Apply staleness rules per F6 Â§6.3
- Show warnings when data is stale
- Provide manual refresh option

```typescript
// Example validation
function validateAnalyticsFreshness(response: AnalyticsSummaryResponse) {
  const generatedTime = new Date(response.generated_at).getTime();
  const now = Date.now();
  const ageMs = now - generatedTime;

  if (ageMs > 300000) { // > 5 minutes
    showStalenessWarning("Data may be outdated", response.generated_at);
  } else if (ageMs > 60000) { // > 1 minute
    showStalenessIndicator(`Last: ${formatTimeAgo(ageMs)}`);
  }
}
```

### 9.2 Count Display Rules (F6 Â§6.2)

**Frontend MUST**:
- Display counts as integers, never perform arithmetic across API calls
- Use `â€”` for unknown/unavailable counts
- Format ratios as "X / Y"

**Example**:
```typescript
// CORRECT: Use values from same response
const camerasActive = summary.totals.cameras_active;
const totalCameras = summary.totals.cameras_total;
display(`${camerasActive} / ${totalCameras}`);

// FORBIDDEN: Mix values from different API calls
const camerasFromSummary = summary.totals.cameras_active;
const camerasFromDevices = devicesResponse.length; // Different API
// DO NOT compute camerasFromSummary - camerasFromDevices
```

### 9.3 Confidence Display (F6 Â§3.2)

**Frontend MUST**:
- Convert numeric confidence to categorical (High/Medium/Low)
- NEVER display raw confidence scores (0.87, 87%) unless explicitly enabled in export options

**Mapping**:

| Backend Value | Display |
|---------------|---------|
| >= 0.8 | "High" |
| 0.6â€“0.79 | "Medium" |
| < 0.6 | "Low" |

---

## 10. State Management Summary

### 10.1 Screen States

| State | Trigger | Display | Recovery |
|-------|---------|---------|----------|
| **Loading** | Initial page load | Skeleton loaders | Automatic |
| **Default (Data)** | Successful API response | Full dashboard | Auto-refresh every 60s |
| **Empty** | No violations in range | Empty state message | Change time range |
| **Error** | API failure | Error message + retry | Manual retry |
| **Degraded (Stale)** | `generated_at` > 5m old | Warning banner | Manual refresh |

### 10.2 Error Recovery

| Error Type | User Action | System Behavior |
|------------|-------------|-----------------|
| Network timeout | Click "Retry" | Re-fetch with exponential backoff |
| 500 Server Error | Click "Retry" | Re-fetch (max 2 retries) |
| 503 Unavailable | Click "Retry" | Re-fetch (max 3 retries with backoff) |
| Stale data | Click "Refresh Now" | Force immediate re-fetch |

---

## 11. Implementation Checklist

### 11.1 Navigation Updates

- [ ] Rename "Reports" to "Analytics" in navigation component
- [ ] Update route from `/reports` to `/analytics`
- [ ] Update breadcrumbs to use "Analytics"
- [ ] Update document titles

### 11.2 Analytics Dashboard

- [ ] Implement time range selector with presets
- [ ] Implement summary cards (6 cards)
- [ ] Implement violations over time chart (line chart)
- [ ] Implement by camera breakdown (horizontal bar chart)
- [ ] Implement by status pie chart
- [ ] Implement by violation type bar chart
- [ ] Implement staleness detection and warnings
- [ ] Implement auto-refresh (60s interval)
- [ ] Implement manual refresh button
- [ ] Handle all states: loading, empty, error, degraded

### 11.3 Camera Performance Screen

- [ ] Implement sortable table
- [ ] Implement expandable camera details
- [ ] Implement per-camera charts (type breakdown, time series)
- [ ] Implement recent violations list per camera
- [ ] Handle all states

### 11.4 Export Flow

- [ ] Implement export configuration screen
- [ ] Implement format selection (CSV, XLSX, PDF)
- [ ] Implement time range selector
- [ ] Implement data scope filters
- [ ] Implement format-specific options
- [ ] Implement export preview/estimation
- [ ] Implement export generation progress
- [ ] Implement file download handling
- [ ] Implement success/error states
- [ ] Handle large exports (timeout, size limits)

### 11.5 API Integration

- [ ] Enhance `GET /api/v1/analytics/summary` with full response
- [ ] Implement `GET /api/v1/analytics/cameras/{id}`
- [ ] Implement `POST /api/v1/analytics/export`
- [ ] Implement `GET /api/v1/analytics/violations/trends`
- [ ] Implement `GET /api/v1/analytics/devices/status`
- [ ] Add query parameter support for all endpoints
- [ ] Implement staleness timestamp (`generated_at`)

### 11.6 Data Validation

- [ ] Implement staleness validation (F6 Â§6.3)
- [ ] Implement count display rules (F6 Â§6.2)
- [ ] Implement confidence mapping (F6 Â§3.2)
- [ ] Add TypeScript types for all analytics responses
- [ ] Add runtime validation for API responses

### 11.7 Testing

- [ ] Unit tests for staleness calculation
- [ ] Unit tests for count formatting
- [ ] Unit tests for confidence mapping
- [ ] Integration tests for export flow
- [ ] E2E tests for dashboard interaction
- [ ] Test all error states
- [ ] Test with stale data
- [ ] Test with empty data
- [ ] Test export with large datasets

---

## 12. Open Questions for Product/Backend

| Question | Owner | Priority | Impact |
|----------|-------|----------|--------|
| What is the maximum time range for exports? | Product | High | Export validation |
| Should exports include evidence images inline (PDF)? | Product | Medium | PDF generation complexity |
| What is the maximum export size? | Backend | High | Resource planning |
| Should exports be async (email when ready) for large datasets? | Backend | Medium | UX flow changes |
| Should Analytics support real-time updates (WebSocket)? | Product | Low | Architecture decision |
| What retention period applies to analytics data? | Product/Legal | Medium | Data availability |
| Should comparison metrics compare to same period last week/month? | Product | Low | API complexity |
| Should camera performance show inference metrics (FPS, latency)? | Product | Low | Admin vs Supervisor distinction |

---

## 13. Design Rationale

### 13.1 Why Rename to "Analytics"?

**Decision**: Rename "Reports" to "Analytics"

**Rationale**:
1. **Accuracy**: The section provides interactive data exploration, not just static reports
2. **Modern UX**: Analytics is the standard term in modern SaaS (Datadog, Grafana, Mixpanel)
3. **Supervisor Alignment**: Supervisors need actionable intelligence, not just document generation
4. **Export is a Feature**: Exporting is one capability; the section does much more

**Trade-off**: Minor naming inconsistency with older documentation referencing "Reports"

### 13.2 Why Three Export Formats?

**Decision**: Support CSV, XLSX, and PDF

**Rationale**:
1. **CSV**: Raw data for technical analysis (Python, R, SQL import)
2. **XLSX**: Formatted for business users (Excel, Google Sheets) with charts
3. **PDF**: Presentation-ready for management, stakeholders, auditors

**Trade-off**: Increased backend complexity vs. user flexibility

**Alternative Considered**: JSON export â†’ Rejected (too technical for target personas)

### 13.3 Why Manual Refresh Instead of Real-Time?

**Decision**: Auto-refresh every 60s with manual refresh option, not WebSocket

**Rationale**:
1. **Analytics is not time-critical**: Unlike Alerts, analytics tolerate 60s staleness
2. **Reduced complexity**: No WebSocket management, reconnection logic
3. **Backend efficiency**: Scheduled aggregation instead of real-time computation
4. **Matches persona needs**: Supervisors review trends, not live streams

**Trade-off**: 60s lag vs. implementation simplicity

**Future Consideration**: If product evolves to need real-time dashboards, WebSocket can be added without UX redesign

### 13.4 Why Staleness Warnings?

**Decision**: Show explicit staleness warnings when `generated_at` > 5 minutes

**Rationale**:
1. **Operator trust**: Per F1, trust calibration requires honesty about data quality
2. **Decision confidence**: Users need to know if data is current before making decisions
3. **Debugging aid**: Staleness indicators help identify backend issues
4. **Defensive UX**: Per F6, frontend must handle partial failure gracefully

**Trade-off**: Visual clutter vs. transparency

---

## 14. Accessibility Requirements

### 14.1 Keyboard Navigation

- All charts must be keyboard-accessible
- Tab order: Time range â†’ Summary cards â†’ Charts â†’ Export button
- Enter/Space activates buttons and toggles
- Escape closes dropdowns and modals

### 14.2 Screen Reader Support

- All charts must have text alternatives (ARIA labels)
- Summary cards announce value and comparison
- Export options clearly labeled
- Loading states announced ("Loading analytics data")

### 14.3 Visual Accessibility

- Color-blind safe palettes for charts (avoid red/green for status)
- High contrast mode support
- Text size: minimum 14px for body, 18px for headings
- Focus indicators visible on all interactive elements

---

## 15. Cross-References

| Topic | Source Document | Section |
|-------|-----------------|---------|
| Personas (Supervisor, Admin) | F1 (personas.md) | Sections 2, 3 |
| Navigation structure | F2 (information-architecture.md) | Section 5 (Reports) |
| Data staleness rules | F6 (data-contracts.md) | Â§6.3 |
| Count display rules | F6 (data-contracts.md) | Â§6.2 |
| Confidence mapping | F6 (data-contracts.md) | Â§3.2 |
| API endpoints | RUTH_AI_API_CONTRACT_SPECIFICATION.md | Â§1.5 |
| Export requirements | PRODUCT_REQUIREMENT_DOCUMENT.md | Implicit in reporting needs |

---

## 16. Document Status

**Version**: 1.0
**Status**: Draft - Ready for Review
**Last Updated**: 2026-01-16

### Review Checklist

- [x] All screens specified with wireframes
- [x] All states documented (loading, empty, error, degraded)
- [x] Export flow fully designed with all formats
- [x] API requirements clearly defined
- [x] Data contracts validated against F6
- [x] Accessibility requirements specified
- [x] Implementation checklist provided
- [x] Open questions documented
- [x] Design rationale explained

---

**End of Document**

This specification is ready for frontend implementation once backend API enhancements are completed.
